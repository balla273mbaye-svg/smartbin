<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>‚ôªÔ∏è Smart Bin Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; max-width:1200px; 
margin:auto; background:#f0f2f5; padding:20px;}
        h1 { text-align:center; color:#11998e; }
        .container { display:flex; gap:20px; margin-top:30px; }
        .column { flex:1; background:#fff; padding:20px; 
border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
        #status-box { padding:20px; border-radius:12px; font-size:1.5em; 
font-weight:600; text-align:center; margin-bottom:20px; }
        #results-box { padding:15px; background:#f8f9fa; 
border-radius:12px; border-left:4px solid #11998e; margin-bottom:20px;}
        #analyze-btn { background:linear-gradient(135deg, #11998e 0%, 
#38ef7d 100%); border:none; font-size:1.2em; padding:15px 40px; 
border-radius:10px; font-weight:600; cursor:pointer; margin-top:10px;}
        img { max-width:100%; border-radius:12px; margin-bottom:20px; }
    </style>
</head>
<body>
    <h1>‚ôªÔ∏è Smart Bin Dashboard</h1>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="image" required>
        <button id="analyze-btn" type="submit">üîç Analyser la 
poubelle</button>
    </form>

    {% if annotated_image %}
    <div class="container">
        <div class="column">
            <h2>Statut</h2>
            <div id="status-box">{{ status }}</div>
            <div id="results-box">{{ result_text|safe }}</div>
            <h3>üìä Statistiques actuelles</h3>
            <div>{{ stats }}</div>
        </div>
        <div class="column">
            <h2>Images</h2>
            <p>Originale :</p>
            <img src="{{ uploaded_image }}">
            <p>Annot√©e :</p>
            <img src="{{ annotated_image }}">
            <h2>Historique</h2>
            <div>{{ graph_html|safe }}</div>
        </div>
    </div>
    {% endif %}
</body>
</html>

